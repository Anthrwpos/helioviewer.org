<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Tranistional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<!-- YUI Libraries and Stylesheets -->
		<link rel="stylesheet" type="text/css" href="lib/yui/build/reset-fonts/reset-fonts.css">
		<link rel="stylesheet" type="text/css" href="lib/yui/build/container/assets/skins/sam/container.css"> 
		<link rel="stylesheet" type="text/css" href="lib/yui/build/button/assets/skins/sam/button.css"> 
		<link rel="stylesheet" type="text/css" href="lib/yui/build/calendar/assets/skins/sam/calendar.css"> 
		
		<script type="text/javascript" src="lib/yui/build/utilities/utilities.js?_yuiversion=2.5.0"></script>
		<script type="text/javascript" src="lib/yui/build/button/button.js?_yuiversion=2.5.0"></script>
		<script type="text/javascript" src="lib/yui/build/container/container.js?_yuiversion=2.5.0"></script>
		<script type="text/javascript" src="lib/yui/build/calendar/calendar.js?_yuiversion=2.5.0"></script>
	
		<!-- Prototype and Scriptaculous -->
		<script src="lib/prototype/prototype.js" type="text/javascript"></script>
		<script src="lib/scriptaculous/scriptaculous.js?load=effects,slider,dragdrop" type="text/javascript"></script>
		
		<!-- HelioViewer-Specific -->
		<script src="lib/SunViewer/LoadingIndicator.js" type="text/javascript"></script>
		<script src="lib/SunViewer/Debug.js" type="text/javascript"></script>
		<script src="lib/SunViewer/DomNodeCache.js" type="text/javascript"></script>
		<script src="lib/SunViewer/AjaxRequestWrapper.js" type="text/javascript"></script>
		<script src="lib/SunViewer/SunViewerWidget.js" type="text/javascript"></script>
		<script src="lib/SunViewer/SunImage.js" type="text/javascript"></script>
		<script src="lib/SunViewer/Filter.js" type="text/javascript"></script>
		<script src="lib/SunViewer/Tile.js" type="text/javascript"></script>
		<script src="lib/SunViewer/TileContainer.js" type="text/javascript"></script>
		<script src="lib/SunViewer/Surface.js" type="text/javascript"></script>
		<script src="lib/SunViewer/Overlay.js" type="text/javascript"></script>
		<script src="lib/SunViewer/OverlayCollection.js" type="text/javascript"></script>
		<script src="lib/SunViewer/Marker.js" type="text/javascript"></script>
		<script src="lib/SunViewer/MarkerCollection.js" type="text/javascript"></script>
		<script src="lib/SunViewer/LatLon.js" type="text/javascript"></script>
		<script src="lib/SunViewer/TileLayerProvider.js" type="text/javascript"></script>
		<script src="lib/SunViewer/OverlayLayerProvider.js" type="text/javascript"></script>
		<script src="lib/SunViewer/MarkerLayerProvider.js" type="text/javascript"></script>
		<script src="lib/SunViewer/InfoBubble.js" type="text/javascript"></script>
		<script src="lib/SunViewer/ViewPort.js" type="text/javascript"></script>
		<script src="lib/SunViewer/LayerConfigurator.js" type="text/javascript"></script>
		<script src="lib/SunViewer/LayerManager.js" type="text/javascript"></script>
		<script src="lib/SunViewer/SunCoordsDisplay.js" type="text/javascript"></script>
		<script src="lib/SunViewer/SizeIndicator.js" type="text/javascript"></script>
		<script src="lib/SunViewer/SelectByDateMenu.js" type="text/javascript"></script>
		<script src="lib/SunViewer/Calendar.js" type="text/javascript"></script>
		<script src="lib/SunViewer/ZoomLevelSlider.js" type="text/javascript"></script>
		<script src="lib/SunViewer/SunViewer.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" href="styles/sunviewer.css">
		<link rel="stylesheet" type="text/css" href="styles/sizeIndicator.css">		
		
		<script type="text/javascript">
		// <![CDATA[

		function main() {
			// NOTE: This should all be encapsulated in the SunViewer class!
			var sunViewer = new SunViewer();
			
			//Custom Events
			document.layerExchange =    new YAHOO.util.CustomEvent("layerExchange");
			document.zoomLevelChange =  new YAHOO.util.CustomEvent("zoomLevelChange");
			document.zoomOffsetChange = new YAHOO.util.CustomEvent("zoomOffsetChange");
			document.sunImageChange =   new YAHOO.util.CustomEvent("sunImageChange");
			
			// Create viewport
			var viewport1 = new ViewPort('sunViewer1.viewport1', {maxZoomLevel: 12});
			
			// Create tile containers
			var tiles1 = new TileContainer(viewport1);
				
			var layerManager1 = new LayerManager(tiles1, 'layerManager1');
				
			// Create tile layer providers
			var bg1 = new TileLayerProvider(tiles1, {zoomOffset: 10}); // OFFSET CAN BE SET HERE... WHAT ABOUT VIEWPORT PROPERTY?

			var markers1 = new MarkerLayerProvider(tiles1);
				
			var sizeIndicator = new SizeIndicator('sunViewer1.viewport1.sizeIndicator', bg1);
			
			var sunCoordsDisplay = new SunCoordsDisplay('sunViewer1.viewport1.sunCoordsDisplay', bg1);
				
			//markers1.observe(bg1, 'ImageChange');
			//markers1.observe(bg1, 'ZoomOffsetChange');
			document.zoomOffsetChange.subscribe(markers1.onZoomOffsetChange, markers1);
			document.sunImageChange.subscribe(markers1.onImageChange, markers1);
			
			var calendar = new Calendar('cal', 'date', 'show');
				
			var zoomLevelSlider = new ZoomLevelSlider('sunViewer1.viewport1.sliderHandle','sunViewer1.viewport1.sliderTrack');
		}

		document.observe('dom:loaded', main);
		// ]]>
		</script>
		
	</head>
	<body class="yui-skin-sam">

		<div><span id="loading" style="display: none">Loading...</span></div>
		<div id="sunViewer1.header" class="header">
			<h1>SunViewer (alpha)</h1>
			<div id="header-row-01" style="margin:5px;">
			<span style="font-size:14px">Observation Date: </span>

			   <input type="text" id="date" name="date" value="" /><button type="button" id="show" title="Show Calendar"><img src="lib/yui/assets/calbtn.gif" width="18" height="18" alt="Calendar" ></button>

			   <div id="container">
			      <div class="hd">Calendar</div>
			      <div class="bd">
			         <div id="cal"></div>
			      </div>
			   </div>


        	<span>
            	<a id="about" class="nav">About</a>&nbsp; 
        	</span>
        	</div>
		</div>
				<!--
				<table border="0" cellspacing="0" cellpadding="2">
				<tr>
					<td>
				<button type="button" onclick="viewerBean.centreImage()">Centre</button>
				<button type="button" onclick="viewerBean.reset()">Reset</button>
					</td><td width="150">
				<span id="coordinates" style="margin-left: 20px">
					Coordinates:
					<span id="NorS" style="width: 10px"></span>
					<span id="NorSdeg" style="width: 20px; text-align: right"></span>
					<span id="WorE" style="width: 10px"></span>
					<span id="WorEdeg" style="width: 20px; text-align: right"></span>
				</span>
					</td><td>
				<span id="rotation" style="margin-left: 20px">
					Rotation:
					<span id="RNorS" style="width: 10px">S</span>
					<span id="RNorSdeg" style="width: 20px; text-align: right">0</span>
					<span id="RWorE" style="width: 10px">W</span>
					<span id="RWorEdeg" style="width: 20px; text-align: right">0</span>
				</span>
					</td>
				</tr>
				</table>
				-->


		<div id="sunViewer1.stage" class="stage">

			<div id="layerManager1" class="layerManager" style="position: absolute; z-index: 2; height: 15px; width: 70px; overflow: hidden; margin-bottom: 10px" />
			</div>
			
			<div id="sunViewer1.viewport1" class="viewport" style="z-index: 0; left: 0px; width: 100%; height: 600px">
				<div class="surface" id="surface1">
					
				</div>
				<div class="well" id="well1">
					
				</div>
				<!--
				<div id="sunViewer1.viewport1.zoomLevelSlider" class="viewportControls" style="position: absolute; left: 10px; top: 35px; text-align: center; padding: 2px 4px 2px 4px">
					<a href="JavaScript:void(0);" class="zoomIn" title="Zoom In">
						<img src="images/icons/zoomIn.gif" alt="" border="0" style="margin: 0px 0px 0px 0px" />
					</a>
					
					<div class="zoomLevelContainer">
						
					</div>
					
					<a href="JavaScript:void(0);" class="zoomOut" title="Zoom Out">
						<img src="images/icons/zoomOut.gif" alt="" border="0" style="margin: 0px 0px 0px 0px" />
					</a>
				</div>
				-->
									
				<div id="sunViewer1.viewport1.sunCoordsDisplay" class="sunCoordsDisplay" style="position: absolute; right: 10px; top: 10px;">
				
				</div>
				<div class="sizeIndicator" id="sunViewer1.viewport1.sizeIndicator" style="left: 10px; top: 545px">
				</div>
				<div class="viewportControls" style="left: 0px; bottom: 0px; height: 20px; padding: 0px 4px 0px 4px; margin: 0px">
					<span class="centerControl">Center</span>
				</div>
		
			</div>
			<h2>Horizontal Slider with Preset Values</h2>
			
			<div id="track3" style="width:200px; background-color:#ccc; height:10px;">
				<div id="handle3" style="width:10px; height:15px; background-color:#f00; cursor:move;"></div>

			</div>

			<!-- Horizontal slider -->		
			<p id="debug3">&nbsp;</p>
			<script type="text/javascript" language="javascript">
			// <![CDATA[
			
				// horizontal slider control with preset values
				new Control.Slider('handle3', 'track3', {
					range: $R(0,10),
					values: $R(0,10), //can programatically create by getting min max and creating a range
					sliderValue: 5, // won't work if set to 0 due to a bug(?) in script.aculo.us
					onSlide: function(v){ $('debug3').innerHTML = 'slide: ' + v },
					onChange: function(v){ $('debug3').innerHTML = 'changed: ' + v }
				});
			// ]]>
			</script>
			
			<!--  VERTICAL SLIDER (on viewport) -->
			 
			<div id="sunViewer1.viewport1.sliderPlus" class="sliderPlus">+</div>
			<div id="sunViewer1.viewport1.sliderTrack" class="sliderTrack">
    			<div id="sunViewer1.viewport1.sliderHandle" class="sliderHandle">=</div>
			</div>
			<div id="sunViewer1.viewport1.sliderMinus" class="sliderMinus">-</div>
			
			<!-- Debugger output console -->
			<!--<strong>Debug Output:</strong>
			<div>
			<textarea id="debugOutput" cols="100" rows="6"></textarea>
			</div>-->
	</body>
</html>
