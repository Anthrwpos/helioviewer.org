Setting up the Helioviewer F/E Web-Service on Ubuntu 8.10
Last update 01-2009

I. Install Tomcat and Ant:

    1. sudo aptitude install tomcat6 tomcat6-docs tomcat6-examples tomcat6-admin ant junit libaxis-java

    2. Test Tomcat install: http://localhost:8080/
    
    3. Edit /etc/environment (or ~/.bashrc) and add the following lines:
       ANT_HOME=/usr/share/ant
       JAVA_HOME=/usr/lib/jvm/java-6-sun/
       
    4. May also have to do the following:
    	sudo update-java-alternatives -s java-6-sun
    	gedit /etc/jvm, add line:
			/usr/lib/jvm/java-6-sun

II. Add manager to Tomcat:

    1. sudo gedit /etc/tomcat6/tomcat-users.xml

    2. Add the following section, using a different user/password, within the "tomcat-users" element:

        <role rolename="manager"/>
        <user username="tomcat" password="s3cret" roles="manager"/>

    3. Restart tomcat:

        sudo /etc/init.d/tomcat6 restart

III. Build projects using ant, in the following order (run "ant" at the top of each sub-directory):

    First, in the below order:

        VOTable
        JSON
        Dispatcher
        UrlParser

    Next, build EGSOClient using nbbuild.xml:
        ant -f nbbuild.xml jar

    Then, the rest of the catalog adapters in any order (just use "ant" again):

        EGSOAdapter
        CACTusAdapter
        EITPlanningAdapter
        GOESXRayAdapter
        SEEDSAdapter
        VSOAdapter
        
       
IV. Copy the .war files to the Tomcat webapps folder:

    sudo cp */dist/*.war /var/lib/tomcat6/webapps/
   
V. Fix security issues:

    1. sudo gedit /etc/default/tomcat6
    2. Change the lines:
        JAVA_HOME=/usr/lib/jvm/java-6-sun
        TOMCAT6_SECURITY=no
        
VI. Restart one more time...

VII. Test out the installation:

    http://localhost:8080/Dispatcher/resources/eventCatalogs?action=getEventCatalogs&debug=1

== NOTES ==

1. Tomcat configuration is located in /etc/tomcat6


[1] tomcat.apache.org/
[2] http://ws.apache.org/axis2/
[3] http://zhenhua-guo.blogspot.com/2007/10/install-jdk-tomcat-and-axis2-on-ubuntu.html
[4] http://tomcat.apache.org/tomcat-6.0-doc/appdev/deployment.html
